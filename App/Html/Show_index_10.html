<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="/blog/Public/Css/common.css" />
	<script type="text/JavaScript" src='/blog/Public/Js/jquery-1.7.2.min.js'></script>
	<script type="text/JavaScript" src='/blog/Public/Js/common.js'></script>
	<link rel="stylesheet" href="/blog/Public/Css/show.css" />

	<!-- 程序高亮 -->
	<link rel="stylesheet" href="/blog/Data/Ueditor/third-party/SyntaxHighlighter/shCoreDefault.css" />
	<script type="text/javascript" src="/blog/Data/Ueditor/third-party/SyntaxHighlighter/shCore.js"></script>
	<script type="text/javascript">
		SyntaxHighlighter.all();
	</script>

</head>
<body>
<div class='top-list-wrap'>
	<div class='top-list'>
		<ul class='l-list'>
			<li><a href="http://www.houdunwang.com" target='_blank'>后盾网</a></li>
			<li><a href="http://bbs.houdunwang.com" target='_blank'>后盾网论坛</a></li>
			<li><a href="http://study.houdunwang.com" target='_blank'>后盾学习社区</a></li>
		</ul>
		<ul class='r-list'>
			<li><a href="http://www.hdphp.com" target='_blank'>HDPHP框架</a></li>
			<li><a href="http://bbs.houdunwang.com" target='_blank'>免费视频教程</a></li>
		</ul>
	</div>
</div>

<div class='top-search-wrap'>
	<div class='top-search'>
		<a href="http://bbs.houdunwang.com" target='_blank' class='logo'>
			<img src="/blog/Public/Images/logo.png"/>
		</a>
		<div class='search-wrap'>
			<form action="" method='get'>
				<input type="text" name='keyword' class='search-content'/>
				<input type="submit" name='search' value='搜索'/>
			</form>
		</div>
	</div>
</div>

<div class='top-nav-wrap'>
	<ul class='nav-lv1'>
		<li class='nav-lv1-li'>
			<a href="/blog" class='top-cate'>博客首页</a>
		</li>
		<li class='nav-lv1-li'>
				<a href="/blog/c_1.html" class='top-cate'>HTML</a>
					<ul>
											</ul>
			</li><li class='nav-lv1-li'>
				<a href="/blog/c_2.html" class='top-cate'>DIV+CSS</a>
					<ul>
											</ul>
			</li><li class='nav-lv1-li'>
				<a href="/blog/c_3.html" class='top-cate'>JavaScript</a>
					<ul>
						<li><a href="/blog/c_8.html">jQuery</a></li><li><a href="/blog/c_9.html">Ajax</a></li>					</ul>
			</li><li class='nav-lv1-li'>
				<a href="/blog/c_4.html" class='top-cate'>PHP</a>
					<ul>
						<li><a href="/blog/c_10.html">字符串</a></li><li><a href="/blog/c_11.html">数组</a></li><li><a href="/blog/c_12.html">对象</a></li>					</ul>
			</li><li class='nav-lv1-li'>
				<a href="/blog/c_5.html" class='top-cate'>MySQL</a>
					<ul>
						<li><a href="/blog/c_13.html">存储引擎</a></li><li><a href="/blog/c_14.html">事务</a></li><li><a href="/blog/c_15.html">视图</a></li><li><a href="/blog/c_16.html">存储过程</a></li>					</ul>
			</li><li class='nav-lv1-li'>
				<a href="/blog/c_6.html" class='top-cate'>Linux</a>
					<ul>
						<li><a href="/blog/c_17.html">基本命令</a></li><li><a href="/blog/c_18.html">网络配置</a></li>					</ul>
			</li><li class='nav-lv1-li'>
				<a href="/blog/c_7.html" class='top-cate'>其它</a>
					<ul>
											</ul>
			</li>	</ul>
</div>
<!--主体-->
	<div class='main'>
		<div class='main-left'>
			<div class='location'>
				<a href="">首页</a>>
				     <!-- 判断是否还有子分类 -->
				<!-- foreach标签默认含有$key='value' -->
					<a href="/blog/c_4.html">PHP</a>
					>  <!-- 有子分类就输出'>' --><!-- foreach标签默认含有$key='value' -->
					<a href="/blog/c_12.html">对象</a>
					  <!-- 有子分类就输出'>' -->			</div>
			<div class="title">
				<p>无限级分类</p>
				<div>
					<span class='fl'>发布于：2016年02月15日</span>
					<span class='fr'>已被阅读<script type='text/javascript' src='/blog/Index/Show/clickCounter/id/10.html'></script>次</span>
				</div>
			</div>
			<!-- 强制换行 -->
			<div class='content' style='word-break: break-all;'> 
				<pre class="brush:php;toolbar:false">&lt;?php&nbsp;

Class&nbsp;Category{
	//&nbsp;组合一维数组
	Static&nbsp;public&nbsp;function&nbsp;unlimitedForLevel&nbsp;($cate,&nbsp;$dash&nbsp;=&nbsp;&#39;__&#39;,&nbsp;$pid&nbsp;=&nbsp;0,&nbsp;$level&nbsp;=&nbsp;0)&nbsp;{
		$arr&nbsp;=&nbsp;array();
		foreach&nbsp;($cate&nbsp;as&nbsp;$v)&nbsp;{
			if&nbsp;($v[&#39;pid&#39;]&nbsp;==&nbsp;$pid)&nbsp;{
				$v[&#39;level&#39;]&nbsp;=&nbsp;$level&nbsp;+&nbsp;1;
				$v[&#39;dash&#39;]&nbsp;=&nbsp;str_repeat($dash,&nbsp;$level);
				$arr[]&nbsp;=&nbsp;$v;
				$arr&nbsp;=&nbsp;array_merge($arr,self::unlimitedForLevel($cate,&nbsp;$dash,&nbsp;$v[&#39;id&#39;],&nbsp;$level&nbsp;+&nbsp;1));
			}
		}
		return&nbsp;$arr;
	}
	//&nbsp;组合多维数组
	Static&nbsp;public&nbsp;function&nbsp;unlimitedForLayer&nbsp;($cate,&nbsp;$name&nbsp;=&nbsp;&#39;child&#39;,&nbsp;$pid&nbsp;=&nbsp;0)&nbsp;{
		$arr&nbsp;=&nbsp;array();
		foreach&nbsp;($cate&nbsp;as&nbsp;$v)&nbsp;{
			if&nbsp;($v[&#39;pid&#39;]&nbsp;==&nbsp;$pid)&nbsp;{
				$v[$name]&nbsp;=&nbsp;self::unlimitedForLayer($cate,&nbsp;$name,&nbsp;$v[&#39;id&#39;]);
				$arr[]&nbsp;=&nbsp;$v;
			}
		}
		return&nbsp;$arr;
	}
	//&nbsp;返回子级分类ID的所有父级分类
	Static&nbsp;public&nbsp;function&nbsp;getParents&nbsp;($cate,&nbsp;$id)&nbsp;{
		$arr&nbsp;=&nbsp;array();
		foreach&nbsp;($cate&nbsp;as&nbsp;$v)&nbsp;{
			if&nbsp;($v[&#39;id&#39;]&nbsp;==&nbsp;$id)&nbsp;{
				$arr[]&nbsp;=&nbsp;$v;
				$arr&nbsp;=&nbsp;array_merge(self::getParents($cate,&nbsp;$v[&#39;pid&#39;]),&nbsp;$arr);
			}
		}
		return&nbsp;$arr;
	}
	//&nbsp;返回父级分类ID的所有子级分类ID
	Static&nbsp;public&nbsp;function&nbsp;getChildrenId&nbsp;($cate,&nbsp;$pid)&nbsp;{
		$arr&nbsp;=&nbsp;array();
		foreach&nbsp;($cate&nbsp;as&nbsp;$v)&nbsp;{
			if&nbsp;($v[&#39;pid&#39;]&nbsp;==&nbsp;$pid)&nbsp;{
				$arr[]&nbsp;=&nbsp;$v[&#39;id&#39;];
				$arr&nbsp;=&nbsp;array_merge($arr,&nbsp;self::getChildrenId($cate,&nbsp;$v[&#39;id&#39;]));
			}
		}
		return&nbsp;$arr;
	}
	//&nbsp;返回父级分类ID的所有子级分类
	Static&nbsp;public&nbsp;function&nbsp;getChildren&nbsp;($cate,&nbsp;$pid)&nbsp;{
		$arr&nbsp;=&nbsp;array();
		foreach&nbsp;($cate&nbsp;as&nbsp;$v)&nbsp;{
			if&nbsp;($v[&#39;pid&#39;]&nbsp;==&nbsp;$pid)&nbsp;{
				$arr[]&nbsp;=&nbsp;$v;
				$arr&nbsp;=&nbsp;array_merge($arr,&nbsp;self::getChildren($cate,&nbsp;$v[&#39;id&#39;]));
			}
		}
		return&nbsp;$arr;
	}
}
?&gt;</pre><p><br/></p>			</div>
		</div>
		<div class='main-right'>
	<dl>
	<dt>热门博文</dt>
	<dd>
			<a href="/blog/10.html" target='_blank'>无限级分类</a>
			<span>139</span>
		</dd><dd>
			<a href="/blog/6.html" target='_blank'>后天来学</a>
			<span>101</span>
		</dd><dd>
			<a href="/blog/3.html" target='_blank'>补充博文</a>
			<span>100</span>
		</dd><dd>
			<a href="/blog/8.html" target='_blank'>ThinkPHP</a>
			<span>100</span>
		</dd><dd>
			<a href="/blog/4.html" target='_blank'>滥竽充数</a>
			<span>99</span>
		</dd></dl>	<dl>
	<dt>最新布发</dt>
	<dd>
			<a href="/blog/10.html" target='_blank'>无限级分类</a>
			<span>139</span>
		</dd><dd>
			<a href="/blog/8.html" target='_blank'>ThinkPHP</a>
			<span>100</span>
		</dd><dd>
			<a href="/blog/7.html" target='_blank'>也要学</a>
			<span>80</span>
		</dd><dd>
			<a href="/blog/6.html" target='_blank'>后天来学</a>
			<span>101</span>
		</dd><dd>
			<a href="/blog/5.html" target='_blank'>再加一篇</a>
			<span>92</span>
		</dd></dl>	
	<dl>
		<dt>友情连接</dt>
		<dd>
			<a href="">后盾网</a>
		</dd>

		<dd>
			<a href="">后盾网论坛</a>
		</dd>
		<dd>
			<a href="">后盾网学习社区</a>
		</dd>
	</dl>
</div>
	</div>
	<div class='bottom'>
	<div></div>
</div>
</body>
</html>